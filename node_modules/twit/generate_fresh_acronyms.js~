var fs = require('fs');

readFile();

function readFile() {

    var content = fs.readFileSync('acronym_list', 'utf8');
    var acronyms = content.split(" ");
    var rAcronyms = shuffle(acronyms);
    if (fs.existsSync('fresh_acronyms'))
        fs.unlinkSync('fresh_acronyms'); 
    if (fs.existsSync('expired_acronyms'))
        fs.unlinkSync('expired_acronyms');
    if (fs.existsSync('acronym_dictionary_log'))
        fs.unlinkSync('acronym_dictionary_log');
    if (fs.existsSync('markov_log'))
        fs.unlinkSync('markov_log');

    var counter = 0;
    for (var a in rAcronyms) {
        counter++;
        fs.appendFile('fresh_acronyms', rAcronyms[a] + " ");
    }
    console.log("we have " + counter + " acronyms to use!");
};

function shuffle(array) {
    var currentIndex = array.length
        , temporaryValue
        , randomIndex
        ;

    while (0 !== currentIndex) {
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
    };
    return array;
};
